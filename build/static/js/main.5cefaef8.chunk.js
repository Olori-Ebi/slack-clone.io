(this["webpackJsonpSlack-Clone"]=this["webpackJsonpSlack-Clone"]||[]).push([[0],{50:function(e,a,t){e.exports=t(70)},55:function(e,a,t){},56:function(e,a,t){},63:function(e,a,t){},65:function(e,a,t){},66:function(e,a,t){},67:function(e,a,t){},68:function(e,a,t){},69:function(e,a,t){},70:function(e,a,t){"use strict";t.r(a);var n=t(2),l=t.n(n),c=t(25),r=t.n(c),o=t(15),s=(t(55),t(101)),m=t(83),i=t(84),u=t(85),d=(t(56),Object(n.createContext)()),E=function(e){var a=e.reducer,t=e.initialState,c=e.children;return l.a.createElement(d.Provider,{value:Object(n.useReducer)(a,t)},c)},p=function(){return Object(n.useContext)(d)};var h=function(){var e=p(),a=Object(o.a)(e,1)[0].user;return l.a.createElement("div",{className:"header"},l.a.createElement("div",{className:"header__left"},l.a.createElement(s.a,{className:"header__avatar",alt:null===a||void 0===a?void 0:a.displayName,src:null===a||void 0===a?void 0:a.photoURL}),l.a.createElement(m.a,null)),l.a.createElement("div",{className:"header__search"},l.a.createElement(i.a,null),l.a.createElement("input",{placeholder:"Search Eyiyemi..."})),l.a.createElement("div",{className:"header__right"},l.a.createElement(u.a,null)))},v=t(86),f=t(87),b=t(88),g=t(89),_=t(90),N=t(91),I=t(92),O=t(93),S=t(94),j=t(95),y=t(96),C=t(97),w=t(10),k=t(27),D=k.a.initializeApp({apiKey:"AIzaSyCITftY4yuRsduD0AUd2E161LNlm3b6TYs",authDomain:"slack-clone-ceacb.firebaseapp.com",projectId:"slack-clone-ceacb",storageBucket:"slack-clone-ceacb.appspot.com",messagingSenderId:"998768266333",appId:"1:998768266333:web:7e06d5593b498a940611b4",measurementId:"G-6T0S3Y4072"}).firestore(),T=k.a.auth(),x=new k.a.auth.GoogleAuthProvider,A=D;t(63);var R=function(e){var a=e.Icon,t=e.id,n=e.title,c=e.addChannelOption,r=Object(w.f)();return l.a.createElement("div",{className:"sidebarOption",onClick:c?function(){var e=prompt("Please enter the channel name");e&&A.collection("rooms").add({name:e})}:function(){t?r.push("/room/".concat(t)):r.push("".concat(n))}},a&&l.a.createElement(a,{className:"sidebarOption__icon"}),a?l.a.createElement("h3",null,n):l.a.createElement("h3",{className:"sidebarOption__channel"},l.a.createElement("span",{className:"sidebarOption__hash"},"#")," ",n))};t(65);var U=function(){var e=p(),a=Object(o.a)(e,1)[0].user,t=Object(n.useState)([]),c=Object(o.a)(t,2),r=c[0],s=c[1];return Object(n.useEffect)((function(){A.collection("rooms").onSnapshot((function(e){return s(e.docs.map((function(e){return{id:e.id,name:e.data().name}})))}))}),[]),l.a.createElement("div",{className:"sidebar"},l.a.createElement("div",{className:"sidebar__header"},l.a.createElement("div",{className:"sidebar__info"},l.a.createElement("h2",null,"Eyiyemi"),l.a.createElement("h3",null,l.a.createElement(v.a,null),null===a||void 0===a?void 0:a.displayName)),l.a.createElement(f.a,null)),l.a.createElement(R,{Icon:b.a,title:"Threads"}),l.a.createElement(R,{Icon:g.a,title:"Mentions & reactions"}),l.a.createElement(R,{Icon:_.a,title:"Saved Items"}),l.a.createElement(R,{Icon:N.a,title:"Channel browser"}),l.a.createElement(R,{Icon:I.a,title:"People & user groups"}),l.a.createElement(R,{Icon:O.a,title:"Apps"}),l.a.createElement(R,{Icon:S.a,title:"File browser"}),l.a.createElement(R,{Icon:j.a,title:"Show less"}),l.a.createElement("hr",null),l.a.createElement(R,{Icon:y.a,title:"Show more"}),l.a.createElement("hr",null),l.a.createElement(R,{Icon:C.a,addChannelOption:!0,title:"Add Channel"}),r.map((function(e){return l.a.createElement(R,{title:e.name,id:e.id})})))},L=t(32),P=(t(66),t(98)),G=t(99);t(67);var B=function(e){var a=e.message,t=e.timestamp,n=e.user,c=e.userImage;return l.a.createElement("div",{className:"message"},l.a.createElement("img",{src:c,alt:""}),l.a.createElement("div",{className:"message__info"},l.a.createElement("h4",null,n," ",l.a.createElement("span",{className:"message__timestamp"},new Date(null===t||void 0===t?void 0:t.toDate()).toUTCString(),"...")),l.a.createElement("p",null,a)))};t(68);var F=function(e){var a=e.channelName,t=e.channelId,c=Object(n.useState)(""),r=Object(o.a)(c,2),s=r[0],m=r[1],i=p(),u=Object(o.a)(i,1)[0].user;return l.a.createElement("div",{className:"chatInput"},l.a.createElement("form",null,l.a.createElement("input",{value:s,onChange:function(e){return m(e.target.value)},type:"text",placeholder:"Message #".concat(null===a||void 0===a?void 0:a.toLowerCase())}),l.a.createElement("button",{type:"submit",onClick:function(e){e.preventDefault(),t&&(A.collection("rooms").doc(t).collection("messages").add({message:s,timestamp:k.a.firestore.FieldValue.serverTimestamp(),user:u.displayName,userImage:u.photoURL}),m(""))}},"SEND")))};var Y=function(){var e=Object(w.g)().roomId,a=Object(n.useState)(null),t=Object(o.a)(a,2),c=t[0],r=t[1],s=Object(n.useState)([]),m=Object(o.a)(s,2),i=m[0],u=m[1];return Object(n.useEffect)((function(){e&&A.collection("rooms").doc(e).onSnapshot((function(e){return r(e.data())})),A.collection("rooms").doc(e).collection("messages").orderBy("timestamp","asc").onSnapshot((function(e){return u(e.docs.map((function(e){return e.data()})))}))}),[e]),console.log(i),l.a.createElement("div",{className:"chat"},l.a.createElement("div",{className:"chat__header"},l.a.createElement("div",{className:"chat__headerLeft"},l.a.createElement("h4",{className:"chat__channelName"},l.a.createElement("strong",null,"# ",null===c||void 0===c?void 0:c.name),l.a.createElement(P.a,null))),l.a.createElement("div",{className:"chat__headerRight"},l.a.createElement("p",null,l.a.createElement(G.a,null)," Details"))),l.a.createElement("div",{className:"chat__messages"},i.map((function(e){var a=e.message,t=e.timestamp,n=e.user,c=e.userImage;return l.a.createElement(B,{message:a,timestamp:t,user:n,userImage:c})}))),l.a.createElement(F,{channelName:null===c||void 0===c?void 0:c.name,channelId:e}))},z=t(100),J=(t(69),t(37)),M="SET_USER",W=function(e,a){switch(console.log(a),a.type){case M:return Object(J.a)(Object(J.a)({},e),{},{user:a.user});default:return e}};var H=function(){var e=p(),a=Object(o.a)(e,2),t=(a[0],a[1]);return l.a.createElement("div",{className:"login"},l.a.createElement("div",{className:"login__container"},l.a.createElement("img",{src:"https://cdn.mos.cms.futurecdn.net/SDDw7CnuoUGax6x9mTo7dd.jpg"}),l.a.createElement("h1",null,"Sign in to Olori_ Ebi HQ"),l.a.createElement("p",null,"Eyiyemi.Oloriebi.slack.com"),l.a.createElement(z.a,{onClick:function(){T.signInWithPopup(x).then((function(e){console.log(e),t({type:M,user:e.user})})).catch((function(e){alert(e.message)}))}},"Sign In with Google")))};var K=function(){var e=p(),a=Object(o.a)(e,2),t=a[0].user;return a[1],l.a.createElement("div",{className:"app"},l.a.createElement(L.a,null,t?l.a.createElement(l.a.Fragment,null,l.a.createElement(h,null),l.a.createElement("div",{className:"app__body"},l.a.createElement(U,null),l.a.createElement(w.c,null,l.a.createElement(w.a,{path:"/room/:roomId"},l.a.createElement(Y,null)),l.a.createElement(w.a,{path:"/"},l.a.createElement("h1",null,"Welcome"))))):l.a.createElement(H,null)))};r.a.render(l.a.createElement(E,{initialState:{user:null},reducer:W},l.a.createElement(K,null)),document.getElementById("root"))}},[[50,1,2]]]);
//# sourceMappingURL=main.5cefaef8.chunk.js.map